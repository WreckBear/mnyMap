<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <!-- <script src="Untitled-1.js"></script> -->
</head>
<body>
    <canvas id="cc" width="1000px" height="400px"></canvas>
    
    <input type="date" id="date" ></input>
    <input type="number" id="mny" ></input>
    <input type="checkbox" name="zf" />支出
    <input type="checkbox" name="zf" />收入
    <input type="button" onclick="addNode()" value="添加记录" />


    <script src="jtopo-0.4.7-min.js" type="text/javascript" ></script>
    <script type="text/javascript" >
        var nextLocation = {x:300,y:200};

        function getNextLocation(){
            var tmp = nextLocation;
            nextLocation.x = nextLocation.x + 100;
            return tmp;
        }

        var canvas = document.getElementById('cc'); 
        var stage = new JTopo.Stage(canvas); // 创建一个舞台对象
        var scene = new JTopo.Scene(stage); // 创建一个场景对象
        var node = new JTopo.Node("Hello");    // 创建一个节点
        node.fontColor = "255,0,0";
        node.setLocation(300,200);    // 设置节点坐标      
        scene.add(node); // 放入到场景中

        function createNode(date,mny){
            var node = new JTopo.Node(date);
            var p = getNextLocation();
            node.setLocation(p.x,p.y);
            node.fontColor = "255,0,0";
            return node;
        }

        function addNode(){
            var date = document.getElementById("date").value;
            var mny = document.getElementById("mny").value;
            var newNode = createNode(date,mny);
            scene.add(newNode);
            var link = new JTopo.Link(node, newNode); // 增加连线
            node = newNode;
            scene.add(link);
        }
    </script>
</body>
</html>